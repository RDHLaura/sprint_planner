import{u as P,a as b,A as k,U as D}from"./login-64ea77fc.js";import{_,o as c,c as l,a as t,n as $,t as d,r as u,F as f,g as v,h,i as S,j as q,w as y,v as x,p as w,e as T,d as U,f as j,b as E}from"./index-ef2b0b28.js";const I={props:{pagination:{type:Object,required:!0}},data(){return{prevPageUrl:null,nextPageUrl:null}},methods:{gotoPage(e){console.log(e),this.$emit("go-to-page",e)}}},B={"aria-label":"Page navigation example"},N={class:"pagination",style:{color:"#64D7B1 !important"}},F={class:"page-item disabled"},G={class:"page-link fs-4",href:"#"};function V(e,o,n,p,i,a){return c(),l("nav",B,[t("ul",N,[t("li",{class:$({"page-item disable":n.pagination.previous===null,"page-item":n.pagination.previous!==null})},[t("button",{onClick:o[0]||(o[0]=s=>a.gotoPage(n.pagination.previous)),class:"page-link fs-4",style:{color:"#64D7B1 !important"}}," Previous ")],2),t("li",F,[t("a",G,d(n.pagination.actualPage),1)]),t("li",{class:$({"page-item disable":n.pagination.next===null,"page-item":n.pagination.next!==null})},[t("button",{onClick:o[1]||(o[1]=s=>a.gotoPage(n.pagination.next)),class:"page-link fs-4",style:{color:"#64D7B1 !important"}}," Next ")],2)])])}const L=_(I,[["render",V],["__scopeId","data-v-141bf4f3"]]);const z={name:"listadoProyectos",data(){return{proyectos:[],usuarios:P,pagination:{}}},components:{pagination:L},mounted(){b.get(k+"/proyectos/?user="+D).then(e=>{this.proyectos=e.data.content,this.pagination=e.data.pagination}).catch(e=>{console.log(e)})},methods:{getUser(e){return this.usuarios[e].username},gotoPage(e){b.get(e).then(o=>{this.proyectos=o.data.content,this.pagination=o.data.pagination}).catch(o=>{console.log(o)})},upper(e){return e.toUpperCase()}}},A={class:"d-flex flex-wrap mt-5 justify-content-center w-100 h-75"},M={class:"card-header fw-bold fs-4",style:{color:"#454545 !important",background:"#C6EDE2"}},O={class:"card-body"},R={class:"blockquote mb-0 mt-4"},W={class:"fs-4",style:{color:"#454545 !important"}},H={class:"blockquote-footer mt-3 fs-5"},J={title:"Título de la fuente"};function K(e,o,n,p,i,a){const s=u("router-link"),r=u("pagination");return c(),l("div",null,[t("div",A,[(c(!0),l(f,null,v(i.proyectos,m=>(c(),l("div",{class:"card proyects-card m-2 mw-25",key:m.id},[h(s,{to:{name:"proyecto",params:{id:m.id}},class:"col"},{default:S(()=>[t("div",M,d(a.upper(m.titulo)),1),t("div",O,[t("blockquote",R,[t("p",W,d(m.descripcion),1),t("footer",H,[q("Creador: "),t("cite",J,d(a.getUser(m.creador)),1)])])])]),_:2},1032,["to"])]))),128))]),h(r,{pagination:i.pagination,onGoToPage:a.gotoPage,class:"d-flex flex-wrap my-5 justify-content-center"},null,8,["pagination","onGoToPage"])])}const Q=_(z,[["render",K],["__scopeId","data-v-2655d66f"]]);const X={name:"crearEquipo",data(){return{users:P,searchTerm:""}},props:{team:{type:Array},addToTeam:{type:Function},removeToTeam:{type:Function}},watch:{team(){this.$forceUpdate()}},computed:{filteredUsers(){return Object.values(this.users).filter(e=>e.username.toLowerCase().includes(this.searchTerm.toLowerCase()))}}},C=e=>(w("data-v-9ed01718"),e=e(),T(),e),Y={class:"row align-items-start text-center collapse mb-4",id:"crearEquipo"},Z={class:"col align-items-center justify-content-center"},tt=C(()=>t("h2",{class:"mb-4 fs-1 fw-bold"},"Usuarios registrados",-1)),et=["onClick"],ot={class:"list-group-item list-group-item-action pt-4 px-5","aria-current":"true"},st={class:"d-flex w-100 justify-content-between"},at={class:"mb-1 fs-3"},nt={class:"blockquote-footer fs-5 my-2"},it={class:"mx-2"},rt={class:"col align-items-center justify-content-center"},ct=C(()=>t("h3",{class:"mb-4 fs-1 fw-bold"},"Miembros del equipo",-1)),lt=["onClick"],dt={href:"#",class:"list-group-item list-group-item-action","aria-current":"true"},ut={class:"d-flex w-100 justify-content-between"},_t={class:"mb-1"};function pt(e,o,n,p,i,a){return c(),l("div",Y,[t("div",Z,[tt,y(t("input",{class:"form-control w-75 d-inline mb-4",type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>i.searchTerm=s),placeholder:"Buscar usuario"},null,512),[[x,i.searchTerm]]),(c(!0),l(f,null,v(a.filteredUsers,s=>(c(),l("div",{class:"list-group",key:s.id,onClick:r=>n.addToTeam(s)},[t("div",ot,[t("div",st,[t("h3",at,d(s.username),1),t("small",null,d(s.email),1)]),t("p",nt,[q("Github: "),t("span",it,"@"+d(s.github_username),1)])])],8,et))),128))]),t("div",rt,[ct,(c(!0),l(f,null,v(n.team,s=>(c(),l("div",{class:"list-group",key:s.id,onClick:r=>n.removeToTeam(s)},[t("a",dt,[t("div",ut,[t("h5",_t,d(s.username),1),t("small",null,d(s.email),1)]),t("small",null,"Github: "+d(s.github_username),1)])],8,lt))),128))])])}const mt=_(X,[["render",pt],["__scopeId","data-v-9ed01718"]]);const ht={data(){return{team:[],searchTerm:"",formData:{titulo:"",descripcion:"",miembros:[],creador:1},msg:{titulo:"",descripcion:"",miembros:""},newProyect:{}}},components:{CrearEquipo:mt},watch:{team(){this.$forceUpdate()}},methods:{addToTeam(e){if(this.team.includes(e))return!1;this.team.push(e)},removeToTeam(e){if(!this.team.includes(e))return!1;this.team=this.team.filter(o=>o.id!=e.id)},submitForm(){this.team.map(e=>{this.formData.miembros.push(e.id)}),this.formData.titulo!==""&&this.formData.descripcion!==""&&this.formData.miembros.length!=0&&b.post(k+"/proyectos",this.formData).then(e=>{e.status==200&&this.$router.push({name:"proyecto",params:{id:e.data.createdProyect.id}})})}}},g=e=>(w("data-v-a4a86fa6"),e=e(),T(),e),ft={class:"text-center"},gt={class:"mt-5"},bt=g(()=>t("h1",{class:"display-2 m-5"},"Nuevo proyecto",-1)),vt={class:"input-group input-group-sm mb-3 w-50"},yt=g(()=>t("span",{class:"input-group-text px-3",id:"inputGroup-sizing-sm",style:{width:"12rem"}},"Título proyecto",-1)),xt={class:"input-group input-group-sm mb-3 w-50"},wt=g(()=>t("span",{class:"input-group-text px-3",style:{width:"12rem"}},"Descripción",-1)),Tt=g(()=>t("div",{class:"m-3 mb-5"},[t("a",{class:"btn btn-outline-secondary m-2 fs-4","data-bs-toggle":"collapse",href:"#crearEquipo",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}," Crear equipo "),t("input",{type:"submit",class:"btn btn-outline-secondary m-2",value:"Guardar"})],-1));function $t(e,o,n,p,i,a){const s=u("CrearEquipo");return c(),l("div",ft,[t("div",gt,[bt,t("form",{class:"d-flex flex-column align-items-center gap-3",novalidate:"",onSubmit:o[2]||(o[2]=U((...r)=>a.submitForm&&a.submitForm(...r),["prevent"]))},[t("div",vt,[yt,y(t("input",{"onUpdate:modelValue":o[0]||(o[0]=r=>i.formData.titulo=r),type:"text",class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm"},null,512),[[x,i.formData.titulo]])]),t("div",xt,[wt,y(t("textarea",{"onUpdate:modelValue":o[1]||(o[1]=r=>i.formData.descripcion=r),class:"form-control","aria-label":"With textarea"},null,512),[[x,i.formData.descripcion]])]),Tt],32),h(s,{addToTeam:a.addToTeam,removeToTeam:a.removeToTeam,team:i.team,class:"mt-5"},null,8,["addToTeam","removeToTeam","team"])])])}const Pt=_(ht,[["render",$t],["__scopeId","data-v-a4a86fa6"]]);const kt={data(){return{showSquare:!1}},methods:{toggleSquare(){this.showSquare=!this.showSquare}},components:{CrearProyecto:Pt}},qt=e=>(w("data-v-0551b107"),e=e(),T(),e),Ct=qt(()=>t("i",{class:"bi bi-plus-square"},null,-1)),Dt=[Ct];function St(e,o,n,p,i,a){const s=u("CrearProyecto");return c(),l("div",null,[i.showSquare?(c(),j(s,{key:0,class:"square border border-secondary"})):E("",!0),t("button",{id:"toggle-square",onClick:o[0]||(o[0]=(...r)=>a.toggleSquare&&a.toggleSquare(...r))},Dt)])}const Ut=_(kt,[["render",St],["__scopeId","data-v-0551b107"]]),jt={name:"dashboard",components:{ListadoProyectos:Q,ButtonNewProject:Ut}},Et={class:"container-fluid vh-100 w-75"},It=t("h1",{class:"display-3 text-center fw-semibold",style:{color:"#454545 !important"}},"SprintPlanner",-1);function Bt(e,o,n,p,i,a){const s=u("ListadoProyectos"),r=u("ButtonNewProject");return c(),l(f,null,[t("main",Et,[It,h(s)]),h(r)],64)}const Gt=_(jt,[["render",Bt]]);export{Gt as default};
